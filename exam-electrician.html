<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Business Development Assessment - TERA</title>
    <link rel="stylesheet" href="./styles.css" />
    <style>
        .exam-container {
            max-width: 850px;
            margin: 2rem auto;
            padding: 1.5rem;
        }

        .q-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            padding: 1.8rem;
            border-radius: 15px;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .q-text {
            font-size: 1.15rem;
            font-weight: 600;
            margin-bottom: 1.2rem;
            line-height: 1.6;
        }

        .options-grid {
            display: grid;
            gap: 0.8rem;
        }

        .opt-btn {
            display: block;
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid rgba(255, 255, 255, 0.1);
            line-height: 1.4;
            color: white;
            text-align: left;
            font-size: 1rem;
            width: 100%;
        }

        .opt-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #f1c40f;
        }

        .progress-text {
            color: #f1c40f;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: right;
        }
    </style>
</head>

<body class="page-bg">
    <div class="bg-overlay"></div>
    <div class="exam-container">
        <header style="text-align: center; margin-bottom: 30px; color: white;">
            <img src="./Logo%20Veichi.png" alt="TERA" style="height: 60px;">
            <h1 style="margin-top: 15px;">‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ‡∏ä‡πà‡∏≤‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ / ‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</h1>
            <p id="userInfo" style="opacity: 0.8;"></p>
        </header>

        <div id="questionsContainer">
        </div>
    </div>

    <script>
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzfvCXdieV_wEsn9RUH7icZpeyjSRuZ0AWHO0IUxrmNxkwnp4RE1V3fKA5WnOUo705Xpg/exec";
        const urlParams = new URLSearchParams(window.location.search);

        const userName = urlParams.get('name') || '‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£';
        const userPos = urlParams.get('position') || 'Technician';
        const uuid = urlParams.get('uuid') || "no-uuid";
        const questions = [
            { q: "1. ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏î‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏£‡∏±‡πà‡∏ß‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏î‡∏ß‡∏á‡∏à‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï?", options: ["‡∏Å. MCCB ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Magnetic Trip", "‡∏Ç. RCBO ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏°‡πà‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Line ‡πÅ‡∏•‡∏∞ Neutral", "‡∏Ñ. Overload Relay ‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏´‡∏•‡∏±‡∏á Contactor", "‡∏á. Surge Protector ‡πÅ‡∏ö‡∏ö Type 2"], ans: 1 },
            { q: "2. ‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô ‡∏ß‡∏™‡∏ó. ‡∏™‡∏≤‡∏¢‡πÄ‡∏™‡πâ‡∏ô‡πÑ‡∏ü (Phase), ‡∏™‡∏≤‡∏¢‡∏ô‡∏¥‡∏ß‡∏ó‡∏£‡∏±‡∏• (Neutral) ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏¢‡∏î‡∏¥‡∏ô (Ground) ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü 1 ‡πÄ‡∏ü‡∏™ ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö?", options: ["‡∏Å. ‡∏î‡∏≥, ‡∏Ç‡∏≤‡∏ß, ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß", "‡∏Ç. ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•, ‡∏ü‡πâ‡∏≤, ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÅ‡∏ñ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á", "‡∏Ñ. ‡πÅ‡∏î‡∏á, ‡∏î‡∏≥, ‡πÄ‡∏ó‡∏≤", "‡∏á. ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô, ‡πÄ‡∏ó‡∏≤, ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß"], ans: 1 },
            { q: "3. ‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏û‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡∏ó‡∏£‡∏¥‡∏õ (Trip) ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏ö‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£ ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏Å. ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå", "‡∏Ç. ‡∏Å‡∏≤‡∏£‡∏•‡∏±‡∏î‡∏ß‡∏á‡∏à‡∏£‡πÉ‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡∏¢‡πÑ‡∏ü", "‡∏Ñ. ‡∏Ñ‡πà‡∏≤ Inrush Current ‡∏Ç‡∏≠‡∏á‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå", "‡∏á. ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÑ‡∏ü‡∏ï‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á"], ans: 1 },
            { q: "4. ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏î‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô‡∏â‡∏ô‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå?", options: ["‡∏Å. True RMS Multimeter", "‡∏Ç. Clamp Meter", "‡∏Ñ. Insulation Resistance Tester (Megger)", "‡∏á. Earth Tester"], ans: 2 },
            { q: "5. ‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢‡∏î‡∏¥‡∏ô (Grounding) ‡∏°‡∏µ‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏Å. ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£", "‡∏Ç. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏•‡∏á‡∏î‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Protective Device ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô", "‡∏Ñ. ‡∏•‡∏î‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö", "‡∏á. ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏ü‡∏Å‡∏£‡∏∞‡∏ä‡∏≤‡∏Å"], ans: 1 },
            { q: "6. ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏ï‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô?", options: ["‡∏Å. ‡πÉ‡∏™‡πà‡∏ñ‡∏∏‡∏á‡∏°‡∏∑‡∏≠‡∏¢‡∏≤‡∏á", "‡∏Ç. ‡∏ó‡∏≥ LOTO ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î", "‡∏Ñ. ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå", "‡∏á. ‡∏ï‡∏¥‡∏î‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô"], ans: 1 },
            { q: "7. ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (Ampere) ‡πÉ‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Ç‡∏ì‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏î‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?", options: ["‡∏Å. Digital Multimeter ‡∏ï‡πà‡∏≠‡∏≠‡∏ô‡∏∏‡∏Å‡∏£‡∏°", "‡∏Ç. Clamp Meter", "‡∏Ñ. Current Transformer", "‡∏á. Power Analyzer"], ans: 1 },
            { q: "8. Overload Relay ‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏à‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå?", options: ["‡∏Å. ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏ü‡∏•‡∏±‡∏î‡∏ß‡∏á‡∏à‡∏£", "‡∏Ç. ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≤‡∏Å Overcurrent ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á", "‡∏Ñ. ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏ü‡∏ï‡∏Å", "‡∏á. ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó"], ans: 1 },
            { q: "9. ‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Å‡∏¥‡∏ï‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå (Circuit Breaker) ‡∏Ñ‡∏ß‡∏£‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?", options: ["‡∏Å. ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î", "‡∏Ç. ‡∏Ç‡∏ô‡∏≤‡∏î‡∏™‡∏≤‡∏¢‡πÑ‡∏ü", "‡∏Ñ. ‡∏Å‡∏£‡∏∞‡πÅ‡∏™ Short Circuit ‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö", "‡∏á. ‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠ ‡∏Å ‡πÅ‡∏•‡∏∞ ‡∏Ç"], ans: 3 },
            { q: "10. ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ï‡πâ‡∏≤‡∏£‡∏±‡∏ö (Plug) ‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å‡∏ä‡∏∑‡πâ‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏î‡πÄ‡∏™‡∏°‡∏≠?", options: ["‡∏Å. Isolator", "‡∏Ç. RCBO / RCD", "‡∏Ñ. SPD", "‡∏á. Fuse"], ans: 1 },
            { q: "11. ‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå 'L' ‡πÅ‡∏•‡∏∞ 'N' ‡∏ö‡∏ô‡∏Ç‡∏±‡πâ‡∏ß‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏Å. Line ‡πÅ‡∏•‡∏∞ Neutral", "‡∏Ç. Live ‡πÅ‡∏•‡∏∞ Node", "‡∏Ñ. Load ‡πÅ‡∏•‡∏∞ Neutral", "‡∏á. Line ‡πÅ‡∏•‡∏∞ Node"], ans: 0 },
            { q: "12. ‡∏´‡∏≤‡∏Å‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå 3 ‡πÄ‡∏ü‡∏™ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô (Single Phasing) ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏Å. ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô", "‡∏Ç. ‡πÑ‡∏ü‡∏Ç‡∏≤‡∏î 1 ‡πÄ‡∏ü‡∏™", "‡∏Ñ. ‡πÅ‡∏ö‡∏£‡∏¥‡πà‡∏á‡∏ù‡∏∑‡∏î", "‡∏á. ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏¥‡∏ô"], ans: 1 },
            { q: "13. ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏ß‡∏á‡∏Å‡∏•‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏µ‡∏î‡∏Å‡∏≤‡∏Å‡∏ö‡∏≤‡∏ó‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô (X) ‡∏°‡∏±‡∏Å‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏Å. ‡πÄ‡∏ï‡πâ‡∏≤‡∏£‡∏±‡∏ö", "‡∏Ç. ‡πÇ‡∏Ñ‡∏°‡πÑ‡∏ü", "‡∏Ñ. ‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå", "‡∏á. Motor Outlet"], ans: 1 },
            { q: "14. ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÉ‡∏ô‡∏ó‡πà‡∏≠‡∏£‡πâ‡∏≠‡∏¢‡∏™‡∏≤‡∏¢ (Conduit) ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÉ‡∏î‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î?", options: ["‡∏Å. ‡πÉ‡∏ä‡πâ‡∏ó‡πà‡∏≠ PVC ‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô", "‡∏Ç. ‡∏£‡πâ‡∏≠‡∏¢‡∏™‡∏≤‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ó‡πà‡∏≠", "‡∏Ñ. ‡πÉ‡∏ä‡πâ‡∏™‡∏≤‡∏¢ THW", "‡∏á. ‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏£‡∏≤‡∏ß‡∏î‡πå"], ans: 1 },
            { q: "15. ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏Å. Volt", "‡∏Ç. Ampere", "‡∏Ñ. Ohm", "‡∏á. Watt"], ans: 2 },
            { q: "16. ‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏°‡∏µ‡∏£‡∏≠‡∏¢‡πÑ‡∏´‡∏°‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ (Overheating) ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏Å. ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÄ‡∏ß‡∏•‡∏≤", "‡∏Ç. ‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠‡∏´‡∏•‡∏ß‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡∏¢‡πÄ‡∏•‡πá‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡∏û‡∏¥‡∏Å‡∏±‡∏î", "‡∏Ñ. ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏£‡∏≤‡∏ß‡∏î‡πå‡πÑ‡∏°‡πà‡∏î‡∏µ", "‡∏á. ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô"], ans: 1 },
            { q: "17. ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå 'Magnetic Contactor' ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏Å. ‡∏ï‡∏±‡∏î‡∏ß‡∏á‡∏à‡∏£‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏£‡∏±‡πà‡∏ß", "‡∏Ç. ‡∏ï‡∏±‡∏î‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤", "‡∏Ñ. ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Overload", "‡∏á. ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô"], ans: 1 },
            { q: "18. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏¥‡∏á‡πÑ‡∏´‡∏°‡πâ‡∏à‡∏≤‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î‡∏î‡∏±‡∏ö‡πÑ‡∏ü‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î?", options: ["‡∏Å. ‡∏ñ‡∏±‡∏á‡∏î‡∏±‡∏ö‡πÄ‡∏û‡∏•‡∏¥‡∏á‡∏ä‡∏ô‡∏¥‡∏î CO2", "‡∏Ç. ‡∏ñ‡∏±‡∏á‡∏î‡∏±‡∏ö‡πÄ‡∏û‡∏•‡∏¥‡∏á‡∏ä‡∏ô‡∏¥‡∏î‡∏ú‡∏á‡πÄ‡∏Ñ‡∏°‡∏µ‡πÅ‡∏´‡πâ‡∏á", "‡∏Ñ. ‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤", "‡∏á. ‡∏ó‡∏£‡∏≤‡∏¢‡πÅ‡∏´‡πâ‡∏á"], ans: 2 },
            { q: "19. IP Rating (‡πÄ‡∏ä‡πà‡∏ô IP54, IP67) ‡∏ö‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ö‡∏≠‡∏Å‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏Å. ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏ô‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô", "‡∏Ç. ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ù‡∏∏‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥", "‡∏Ñ. ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°", "‡∏á. ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏â‡∏ô‡∏ß‡∏ô"], ans: 1 },
            { q: "20. ‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏ö‡∏ö Star-Delta ‡∏°‡∏µ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏Å. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏£‡∏á‡∏ö‡∏¥‡∏î", "‡∏Ç. ‡∏•‡∏î‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏ï‡∏≠‡∏ô‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó", "‡∏Ñ. ‡∏Å‡∏•‡∏±‡∏ö‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏´‡∏°‡∏∏‡∏ô", "‡∏á. ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß"], ans: 1 }
        ];

        let currentStep = 0;
        const userAnswers = [];

        window.onload = function () {
            document.getElementById('userInfo').textContent = `‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏≠‡∏ö: ‡∏Ñ‡∏∏‡∏ì ${userName} | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ${userPos}`;
            renderQuestion();
        };

        function renderQuestion() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = "";

            const item = questions[currentStep];
            const card = document.createElement('div');
            card.className = 'q-card';
            card.innerHTML = `
                <div class="progress-text">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà ${currentStep + 1} / ${questions.length}</div>
                <p class="q-text">${item.q}</p>
                <div class="options-grid">
                    ${item.options.map((opt, i) => `
                        <button type="button" class="opt-btn" onclick="selectOption(${i})">
                            ${opt}
                        </button>
                    `).join('')}
                </div>`;
            container.appendChild(card);
        }

        async function selectOption(choiceIndex) {
            const item = questions[currentStep];
            userAnswers.push({
                text: item.options[choiceIndex],
                isCorrect: choiceIndex === item.ans
            });

            if (currentStep < questions.length - 1) {
                currentStep++;
                renderQuestion();
            } else {
                await finishExam();
            }
        }

        async function finishExam() {
            const container = document.getElementById('questionsContainer');
            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô UI ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏ô‡∏¥‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏£‡∏≠
            container.innerHTML = `
        <div class="q-card" style="text-align:center; padding: 3rem;">
            <div class="spinner" style="border: 4px solid #f3f3f3; border-top: 4px solid #f1c40f; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 20px;"></div>
            <h2 style="color:#f1c40f;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</h2>
            <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏≥‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
        </div>
        <style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style>`;

            let score = 0;
            const payload = {
                targetTab: userPos,
                uuid: uuid,
                name: userName,
                position: userPos,
                answersCount: questions.length,
                userAgent: navigator.userAgent
            };

            userAnswers.forEach((ans, i) => {
                if (ans.isCorrect) score++;
                payload[`q${i + 1}_title`] = questions[i].q; // ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°
                payload[`q${i + 1}_text`] = ans.text;        // ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
                payload[`q${i + 1}_score`] = ans.isCorrect ? "1" : "0"; // ‡∏™‡πà‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
            });

            payload.totalScore = String(score);
            payload.hrStatus = score >= 14 ? "üü¢ ‡∏ú‡πà‡∏≤‡∏ô (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå)" : (score >= 10 ? "üü° ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©" : "üî¥ ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô");
            payload.decisionNote = score >= 14 ? "‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå" : (score >= 10 ? "‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤ Resume ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°" : "‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥");

            try {
                const body = new URLSearchParams();
                for (const key in payload) { body.append(key, payload[key]); }

                await fetch(SCRIPT_URL, { method: "POST", body: body, mode: "no-cors" });

                // ‚úÖ ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ Modal ‡πÅ‡∏ó‡∏ô alert
                document.getElementById('customModal').style.display = 'block';

            } catch (err) {
                console.error(err);
                // ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞ Error ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á Modal ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏™‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å‡πÑ‡∏î‡πâ
                document.getElementById('customModal').style.display = 'block';
            }
        }

        function goHome() {
            window.location.href = "index.html";
        }
    </script>

    <div id="customModal" style="display: none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; 
           background: transparent; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);">

        <div class="bg-overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;">
        </div>

        <div style="background: rgba(255, 255, 255, 0.1); 
                backdrop-filter: blur(15px); 
                -webkit-backdrop-filter: blur(15px);
                color: white; 
                margin: 12% auto; 
                padding: 3rem 2rem; 
                border-radius: 20px; 
                width: 85%; 
                max-width: 450px; 
                text-align: center; 
                border: 1px solid rgba(255, 255, 255, 0.2); 
                box-shadow: 0 20px 50px rgba(0,0,0,0.5);
                animation: fadeIn 0.5s ease-in-out;">

            <div style="font-size: 4.5rem; margin-bottom: 1.5rem;">‚úÖ</div>

            <h2 style="color: #f1c40f; margin-top: 0; font-size: 2rem; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">
                ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö!
            </h2>

            <p style="font-size: 1.2rem; opacity: 0.95; line-height: 1.6; margin-bottom: 2rem;">
                ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå
            </p>

            <button onclick="goHome()" style="background: #27ae60; 
                   color: white; 
                   border: none; 
                   padding: 15px 40px; 
                   border-radius: 12px; 
                   cursor: pointer; 
                   font-size: 1.2rem; 
                   font-weight: bold; 
                   transition: 0.3s; 
                   width: 100%;
                   box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);">
                ‡∏ï‡∏Å‡∏•‡∏á
            </button>
        </div>
    </div>
</body>


</html>

